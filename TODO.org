#+TITLE: PyWM agenda

* Power stats
** MBP 2015
** Power command: powerstat -d 20
** Display brightness: 30%
** No sound

| Use Case                                    | Power consumption sway | Power consumption newm | Delta abs | Delta rel |
|---------------------------------------------+------------------------+------------------------+-----------+-----------|
| One alacritty window for power measurement  | 8.8 W                  | 13.7 W                 | 4.9 W     |       55% |
| Alacritty + Chromium Google idle            | 8.9 W                  | 13.9 W                 | 5.0 W     |       56% |
| Alacritty + Chromium YT 720p not maximized  | 11.6 W                 | 16.6 W                 | 5.0 W     |       43% |
| (Alacritty +) Maximized Chromium YT 720p    | 12.8 W                 | 17.1 W                 | 4.3 W     |       34% |
| (Alacritty +) Maximized Chromium YT 720p60  | 21.9 W                 | 20.6 W                 | -1.3 W    |       -6% |
| (Alacritty +) Maximized Chromium YT 1440p60 | 24.8 W                 | 27.8 W                 | 3.0 W     |       12% |

* Current
** Type-checking
- [ ] Try Monkeytype
- [ ] Implement incl. pyi for _pywm
- [ ] Fix setup.py incl. requirements.txt

** XWayland
- [ ] No input is accpeted beyond half screen-size
  - This is introduced by using the wayland output_manager
  - It appears, Xwayland (as a wayland client= takes the information of output_manager literally, i.e. as actual, not logical, pixels
  - This can be verified thorugh xrandr

    - with output manager
        Screen 0: minimum 16 x 16, current 1280 x 800, maximum 32767 x 32767
        XWAYLAND0 connected 1280x800+0+0 (normal left inverted right x axis y axis) 290mm x 180mm
        1280x800      59.81*+

    - without output manager
        Screen 0: minimum 16 x 16, current 2560 x 1600, maximum 32767 x 32767
        XWAYLAND0 connected 2560x1600+0+0 (normal left inverted right x axis y axis) 290mm x 180mm
        2560x1600     59.94*+

  - There is no implication on display quality - just mouse movements beyound logical pixel size are not propagated through Xwayland

** Render
- [ ] Implement damage handling based (see emersion blog post)

* Backlog

** Various TODO Comments inline
** README.md improvements

** General
- [ ] Drag-n-drop
- [ ] Opacity of views
- [ ] Screensharing using xdg-desktop-portal-wlr
- [ ] Popup constraints on scaling

* Ideas

** Possibly use toplevel -> parent to find floating windows?
** Multiple outputs
** Login mechanism
